import{s as A}from"./api-D7mIgXGH.js";import{_ as W,y as j,u as G,r as d,a as J,K as P,B as Q,L as X,b as r,o as i,c as u,d as a,F as B,l as q,g as n,f as s,E,t as b,h as l,e as L,m as N,p as Y,i as Z}from"./index-DGSYi3EO.js";const H=p=>(Y("data-v-faaaa9eb"),p=p(),Z(),p),ee={class:"contain"},oe={class:"header"},te={class:"navigation"},se={class:"text"},ne=H(()=>a("input",{type:"text",class:"search_input",placeholder:"笔记本电脑"},null,-1)),ae={class:"show"},le={class:"show-item"},re={class:"show-item-select"},ie={class:"show-item-contain"},ce=["src"],de={class:"show-item-box-introduction"},ue={class:"show-item-box-price"},pe={__name:"Search",setup(p){const k=j(),U=G(),y=d(null),m=d(k.query.name||""),_=d(""),g=d(""),C=d("ArrowDown"),$=d("ArrowDown"),O=J(["数码","图书音像","宠物花卉","美容彩妆","运动健身"]),v=o=>{_.value=o,console.log("day",_.value),f()},M=o=>{g.value=o,f()},f=()=>{m.value.trim()&&A({name:m.value,day:_.value,order:g.value}).then(o=>{o.code===0?(console.log(o),y.value=o.data.list):E({message:o.msg,type:"error"})}).catch(o=>{console.error("搜索失败:",o)})},V=()=>{let o=document.querySelector(".search_input").value;o.trim()&&A({name:o,day:_.value,order:g.value}).then(e=>{e.code===0?(console.log(e),y.value=e.data.list):E({message:e.msg,type:"error"})}).catch(e=>{console.error("搜索失败:",e)})},F=P(()=>{k.query.name!==m.value&&(m.value=k.query.name||"",f())});Q(()=>{f()}),X(()=>{F()});const w=(o,e)=>{o==="time"?C.value=e?"ArrowUp":"ArrowDown":o==="price"&&($.value=e?"ArrowUp":"ArrowDown")},R=()=>{U.push("/trade")};return(o,e)=>{const x=r("router-link"),z=r("el-button"),D=r("el-icon"),c=r("el-dropdown-item"),I=r("el-dropdown-menu"),S=r("el-dropdown"),K=r("el-card");return i(),u("div",ee,[a("header",oe,[a("div",te,[(i(!0),u(B,null,q(O,(t,h)=>(i(),u("div",{class:"navigation-box",key:h,onMouseover:e[0]||(e[0]=(...T)=>o.handleMouseOver&&o.handleMouseOver(...T))},[n(x,{to:`/search?name=${t}`,class:"link",onClick:o.link},{default:s(()=>[a("span",se,b(t),1)]),_:2},1032,["to","onClick"])],32))),128)),a("div",{class:"search"},[ne,a("button",{class:"search_btn",onClick:V},"搜索")]),n(z,{type:"warning",size:"large",style:{"margin-left":"3rem"},onClick:R},{default:s(()=>[l("返回")]),_:1})])]),a("section",ae,[n(K,{style:{width:"100%","border-radius":"1rem"}},{default:s(()=>[a("div",le,[a("div",re,[n(S,null,{dropdown:s(()=>[n(I,null,{default:s(()=>[n(c,{onClick:e[3]||(e[3]=t=>v(1))},{default:s(()=>[l("1天内")]),_:1}),n(c,{onClick:e[4]||(e[4]=t=>v(3))},{default:s(()=>[l("3天内")]),_:1}),n(c,{onClick:e[5]||(e[5]=t=>v(7))},{default:s(()=>[l("7天内")]),_:1}),n(c,{onClick:e[6]||(e[6]=t=>v(14))},{default:s(()=>[l("14天内")]),_:1})]),_:1})]),default:s(()=>[a("div",{class:"show-item-select-time",onMouseover:e[1]||(e[1]=t=>w("time",!0)),onMouseleave:e[2]||(e[2]=t=>w("time",!1))},[l(" 新发布"),n(D,null,{default:s(()=>[(i(),L(N(C.value)))]),_:1})],32)]),_:1}),n(S,null,{dropdown:s(()=>[n(I,null,{default:s(()=>[n(c,{onClick:e[9]||(e[9]=t=>M("asc"))},{default:s(()=>[l("价格从低到高")]),_:1}),n(c,{onClick:e[10]||(e[10]=t=>M("desc"))},{default:s(()=>[l("价格从高到低")]),_:1})]),_:1})]),default:s(()=>[a("div",{class:"show-item-select-price",onMouseover:e[7]||(e[7]=t=>w("price",!0)),onMouseleave:e[8]||(e[8]=t=>w("price",!1))},[l(" 价格"),n(D,null,{default:s(()=>[(i(),L(N($.value)))]),_:1})],32)]),_:1})]),a("div",ie,[(i(!0),u(B,null,q(y.value,t=>(i(),u("div",{class:"show-item-box",key:t.id},[n(x,{to:`/Detail/${t.id}`},{default:s(()=>{var h;return[a("img",{src:(h=t.imageUrls)==null?void 0:h[0],alt:"",class:"show-item-box-image"},null,8,ce),a("span",de,b(t.description),1),a("span",ue,"¥"+b(t.price),1)]}),_:2},1032,["to"])]))),128))])])]),_:1})])])}}},ve=W(pe,[["__scopeId","data-v-faaaa9eb"]]);export{ve as default};
