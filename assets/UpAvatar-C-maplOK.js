import{u as I}from"./api-D7mIgXGH.js";import{H as x,u as A,b as t,o as n,c,g as s,f as r,d as u,k as l,h as S,F as U,E as _,p as j,i as B,_ as z}from"./index-DGSYi3EO.js";const C=a=>(j("data-v-14edbe8a"),a=a(),B(),a),E=C(()=>u("h3",{class:"show-box-title"},"修改头像",-1)),N={class:"avatar-wrapper"},V=["src"],w={key:1,src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",class:"avatar"},M=x({__name:"UpAvatar",setup(a){const d=A(),p=I(),i=p.userInfo.access_token;let o=p.userAvatarUrl;console.log(o);const f=e=>(console.log("1111"),e.type!=="image/jpeg"&&e.type!=="image/png"&&e.type!=="image/jfif"?(_.error("图片必须是jpg,png或jfif格式"),!1):e.size/1024/1024>2?(_.error("图片大小不能超过2MB"),!1):(console.log("444"),!0)),m=(e,g)=>{console.log(e),o=e.data,console.log("图片地址",o),d.push("/person/userInfo")};return(e,g)=>{const h=t("el-divider"),v=t("el-button"),b=t("el-upload"),y=t("el-form-item"),k=t("el-form");return n(),c(U,null,[E,s(h,{"content-position":"left"}),s(k,null,{default:r(()=>[s(y,{label:"头像："},{default:r(()=>[u("div",N,[l(o)?(n(),c("img",{key:0,src:l(o),class:"avatar"},null,8,V)):(n(),c("img",w)),s(b,{class:"avatar-uploader",action:"http://10.102.73.64:8081/sys/user/updateImage","show-file-list":!1,"on-success":m,"before-upload":f,headers:{Authorization:l(i)},method:"put"},{default:r(()=>[s(v,{size:"small",type:"primary"},{default:r(()=>[S("更换头像")]),_:1})]),_:1},8,["headers"])])]),_:1})]),_:1})],64)}}}),T=z(M,[["__scopeId","data-v-14edbe8a"]]);export{T as default};
