import{_ as B,r as U,j as A,u as D,b as o,o as t,e as c,f as e,g as n,k as N,w as E,d as r,v as F,c as u,F as x,l as w,m as b,t as C,h as y,n as T,E as S}from"./index-DGSYi3EO.js";import{u as V,l as z}from"./api-D7mIgXGH.js";const H={style:{"font-size":"1.6rem"}},I={__name:"CommonAside",setup($){const p=U([{path:"/home",name:"home",label:"首页",icon:"house",url:"/home"},{path:"/guide",name:"guide",label:"绿色生活指南",icon:"help",url:"/guide"},{path:"/brand",name:"brand",label:"可持续品牌",icon:"refresh",url:"/brand"},{path:"/trade",name:"trade",label:"二手交易",icon:"money",url:"/trade"},{path:"/about",name:"about",label:"关于我们",icon:"UserFilled",url:"/about"}]),m=A(()=>p.value.filter(a=>!a.children)),s=A(()=>p.value.filter(a=>a.children)),d=D(),_=a=>{d.push({path:a.url})};return(a,M)=>{const h=o("el-menu-item"),v=o("el-menu-item-group"),g=o("el-sub-menu"),f=o("el-menu"),k=o("el-aside");return t(),c(k,{width:"18rem"},{default:e(()=>[n(f,{"background-color":"#36454F","text-color":"#fff",collapse:!1,"default-active":N(d).currentRoute.value.path},{default:e(()=>[E(r("h3",null,"持续生活",512),[[F,!a.isCollapse]]),E(r("h3",null,"后台",512),[[F,a.isCollapse]]),(t(!0),u(x,null,w(m.value,l=>(t(),c(h,{index:l.path,key:l.path,onClick:i=>_(l)},{default:e(()=>[(t(),c(b(l.icon),{class:"icons"})),r("span",H,C(l.label),1)]),_:2},1032,["index","onClick"]))),128)),(t(!0),u(x,null,w(s.value,l=>(t(),c(g,{index:l.path,key:l.path},{title:e(()=>[(t(),c(b(l.icon),{class:"icons"})),r("span",null,C(l.label),1)]),default:e(()=>[n(v,null,{default:e(()=>[(t(!0),u(x,null,w(s.value,(i,X)=>(t(),c(h,{index:i.path,key:i.path,onClick:Y=>_(i)},{default:e(()=>[(t(),c(b(i.icon),{class:"icons"})),r("span",null,C(i.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:1})]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),_:1})}}},R=B(I,[["__scopeId","data-v-cc6fb65f"]]),j={class:"header"},L={class:"l-content"},q={class:"r-content"},G={class:"el-dropdown-link"},J=["src"],K={key:1,src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",class:"user"},O={__name:"CommonHeader",setup($){const p=D(),m=V(),s=U("");s.value=m.userAvatarUrl,console.log(s.value);const d=()=>{T.confirm("是否确定退出？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("退出登录"),p.push("/login"),z().then(_=>{console.log(_)}),m.clearUserInfo(),S({type:"success",message:"退出成功"})}).catch(()=>{S({type:"info",message:"取消退出"})})};return(_,a)=>{const M=o("el-button"),h=o("el-breadcrumb-item"),v=o("el-breadcrumb"),g=o("router-link"),f=o("el-dropdown-item"),k=o("el-dropdown-menu"),l=o("el-dropdown");return t(),u("div",j,[r("div",L,[n(M,{size:"small"},{default:e(()=>[(t(),c(b("menu"),{class:"icons"}))]),_:1}),n(v,{separator:"/",class:"bread"},{default:e(()=>[n(h,{to:{path:"/home"}},{default:e(()=>[y("首页")]),_:1})]),_:1})]),r("div",q,[n(l,null,{dropdown:e(()=>[n(k,null,{default:e(()=>[n(f,null,{default:e(()=>[n(g,{to:"/person/userInfo"},{default:e(()=>[y("个人中心")]),_:1})]),_:1}),n(f,{onClick:d},{default:e(()=>[y("退出")]),_:1})]),_:1})]),default:e(()=>[r("span",G,[s.value?(t(),u("img",{key:0,src:s.value,class:"user"},null,8,J)):(t(),u("img",K))])]),_:1})])])}}},P=B(O,[["__scopeId","data-v-157cba53"]]),Q={class:"common_layout"},W={__name:"Main",setup($){return(p,m)=>{const s=o("el-header"),d=o("router-view"),_=o("el-main"),a=o("el-container");return t(),u("div",Q,[n(a,{class:"lay-container"},{default:e(()=>[n(R),n(a,null,{default:e(()=>[n(s,{class:"el-header"},{default:e(()=>[n(P)]),_:1}),n(_,{class:"right-main"},{default:e(()=>[n(d)]),_:1})]),_:1})]),_:1})])}}},ne=B(W,[["__scopeId","data-v-8163e540"]]);export{ne as default};
